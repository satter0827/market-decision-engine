| 大リリース（Major） | 目的（外面の節目） | 小リリース（Minor） | DoD（使える状態） | 主な機能  |
| - | - | - | - | - |
| M1 | **CLIでDecision Pack（発注可能な数値）が出る** | m1.1 最小E2E（Coreのみ） | CLIで「ticker・buy_signal・entry/stop/size」が複数銘柄で出る（落ちない範囲で） | Universe固定 / yfinance OHLCV / features_daily最小 / Candidate最小 / Execution最小 / DecisionCore（最小）/ 標準出力 |
| | | m1.2 Decision Pack 契約固定（Contract-first） | DecisionCore の必須項目が揃い、同一入力→同一Coreが再現できる | DecisionCore拡張（target_2r/3r, max_loss, time_stop, rank枠）/ 契約（型・単位・丸め方針は文書化しコードで強制）/ run_context最小（run_id/asof/market/policy_snapshot） |
| | | m1.3 UserPolicy最小（入力契約） | policyでリスク％・閾値が変えられ、policy_snapshotが識別できる | UserPolicy(JSON)最小 + validation + policy_snapshot_id / asof入力の固定 |
| M2 | **落ちない・安全側に倒れる（運用土台）** | m2.1 フェイルセーフ境界（Stop/Skip/Degrade） | 欠損や取得失敗でも市場バッチが継続し、銘柄単位でスキップ・NO化される | 欠損/異常検出 / 銘柄スキップ / NOに倒す / degradedフラグ / warnings（最小語彙） |
| | | m2.2 観測性（監査メタ） | run単位の統計が出て、失敗理由が追跡できる | run_summary（件数・degraded内訳）/ step名＋reasonのログ / universe_idの導入 |
| | | m2.3（任意）成果物の最小出力 | その日のDecision Packが再確認できる（運用上必要なら） | JSON Lines など軽量ファイル出力（DBは不要）/ 命名規則（market/asof/run_id） |
| M3 | **候補抽出とExecutionの品質が“それっぽく”安定** | m3.1 features_daily拡充 | 候補が極端に偏らず、日次で安定する | daily指標追加（トレンド/レンジ位置/ATR等） |
| | | m3.2 Candidate強化（dailyのみ） | 上位Nが再現性ある条件で選ばれる（daily根拠） | ブレイク＋出来高など / 除外条件（daily内で完結） |
| | | m3.3 ルールランキング（plan_score） | ルールスコアで並び、tie-breakが一貫 | plan_score（ルール合成）/ tie-break固定 |
| M4 | **市場環境で新規を制御できる（保守化の自動化）** | m4.1 Regime導入 | risk-off時に候補数やYESが抑制される（保守固定でも可） | 指数トレンド/ボラ判定 / market_env |
| | | m4.2 Regime連動（保守化） | YES→YES_HALF/NOへ寄せる挙動が一貫 | regime → size modifier / eligibility への連動（価格は変えない） |
| M5 | **事故率低減：static補正と制約が効く** | m5.1 static最小（取得と利用境界） | 低流動性/小型でサイズが落ちる or NO（価格は不変） | marketCap/avgVolume等 / static欠損時の縮退 |
| | | m5.2 Risk/Sizing Adjuster | Entry/Stop/Targetは不変で、サイズ・可否だけ補正される | SizeModifier / Eligibility / 集中・流動性の保守化 |
| | | m5.3 ポートフォリオ制約 | 同時保有数・集中上限が buy_signal に反映される | PortfolioPolicy / YES→YES_HALF導入（制約理由をwarningsに） |
| M6 | **読む負担を減らす（説明の外面改善）** | m6.1 LLM要約（翻訳器） | 最大3文＋If-Then（任意）が付く。LLM不調でもcoreは出る | AI Layer（翻訳・要約のみ）/ 失敗時テンプレ |
| | | m6.2 固定語彙profile | “読む観点”が揃い、表現が安定 | vocabulary / profileラベル（固定語彙） |
| | | m6.3 Linter強化 | 規約違反の文章が出ない（逸脱はテンプレへ） | フォーマット監査・禁止事項の強制（判断基準追加禁止等） |
| M7 | **信用度（ML）を段階導入できる（縮退前提）** | m7.1 ML v1（dailyのみ） | p_success/ev_r/uncertaintyが出る。ML不調時は保守化して継続 | 学習/推論分離 / degraded運用 / 不確実性ペナルティ |
| | | m7.2 ML v2（+static） | 安定性が上がる（入力欠損でも壊れない） | 入力拡張 / 最低限の校正・健全性チェック |
| | | m7.3 fundamental条件付き | 追加しても壊れない（asof不明は除外） | 欠損管理 / asof不明除外 / 段階導入 |
| M8 | **改善ループ（週次/月次の外側運用）** | m8.1 週次サマリ | 勝率/EV/DD/分布が出る（過去出力から集計） | 集計レポート（入力はDecision Pack） |
| | | m8.2 ヘルス監視 | 劣化が検知できる（degraded率など） | ドリフト/校正監視（最低限） |
| | | m8.3 再学習手順化 | 更新が追跡できる（手順が固定） | 版管理 / 再学習パイプライン（外側） |
| M9（任意） | **通知（メール）** | m9.1 メール送信 | EOD後に届く（失敗時は再送前提） | テンプレ / 添付（Decision Pack） |
| | | m9.2 配信最適化 | 見やすい（要点＋詳細） | サマリ＋添付形式 / 上位Nのみ本文 |
